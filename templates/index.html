<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Fire Alert SMS</title>
    <link rel="stylesheet" href="../static/style.css" />
</head>
<body>
    <div class="container">
        <h2>Fire Alert Notification</h2>

        <!-- Predefined Message Form -->
        <form method="POST" action="https://sms-server-sjhr.onrender.com/">
            <label for="location">Select Section:</label>
            <select id="location" name="location" required>
                <option value="CMP (Forming)">CMP (Forming)</option>
                <option value="CMP (Welding)">CMP (Welding)</option>
                <option value="CMP (Quality)">CMP (Quality)</option>
                <option value="CMP (Painting)">CMP (Painting)</option>
                <option value="CMP (Finishing)">CMP (Finishing)</option>
                <option value="ADMIN Building">ADMIN Building</option>
                <option value="Validation">Validation</option>
                <option value="AUTO TANK">AUTO TANK</option>
            </select>

            <p><strong>Preview:</strong></p>
            <pre class="preview" id="predefinedMessagePreview">
‚ö†Ô∏è FIRE ALERT at CMP (Forming)!

Evacuate the area IMMEDIATELY.
Follow the nearest emergency exit signs and report to the assembly point.
Do NOT use elevators.
Stay calm and assist others if possible.

üö® Emergency Response Team: Take Immediate Action.
            </pre>

            <button type="submit" name="predefined">Send Predefined SMS</button>
        </form>

        <hr style="margin: 30px 0;"/>

        <!-- Custom Message Form -->
        <form method="POST" action="/">
            <label for="custom_message">Send Custom Message:</label>
            <textarea name="custom_message" rows="4" placeholder="Type your message here..." required></textarea>
            <button type="submit" name="custom">Send Custom SMS</button>
        </form>

        {% if status %}
        <div class="status">
            <strong>Response:</strong> {{ status }}
        </div>
        {% endif %}
    </div>

    <script>
        const dropdown = document.getElementById('location');
        const preview = document.getElementById('predefinedMessagePreview');

        dropdown.addEventListener('change', function () {
            preview.textContent = `‚ö†Ô∏è FIRE ALERT at ${this.value}!\n\nEvacuate the area IMMEDIATELY.\nFollow the nearest emergency exit signs and report to the assembly point.\nDo NOT use elevators.\nStay calm and assist others if possible.\n\nüö® Emergency Response Team: Take Immediate Action.`;
        });
    </script>
</body>
</html>
